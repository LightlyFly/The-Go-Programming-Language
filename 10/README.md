# 包和 go 工具

Go 程序的编译比其他语言要快，主要是有三个原因：
1. 所有的导入都必须在每一个源文件的开头进行显式列出，这样编译器在确定依赖性的时候就不用读取和处理整个文件；
2. 包的依赖性形成有向无环图，因为没有环，所以包可以独立甚至并行编译；
3. Go 包编译输出的目标文件不仅记录它自己的导出信息，还记录它所以来的包的导出信息。当编译一个包时，编译器必须从每一个导入中读取一个目标文件，但是不会超出这些文件；

## 包及其命名

当创建一个包时，使用简短的名字，但是不要短到跟加了密一样。在标准库中最常用的包包括：`bufio`、`bytes`、`flag`、`fmt`、`http`、`io`、`json`、`os`、`sort`、`sync` 和 `time` 等。

尽可能保持可读性和无歧义。例如，不要把一个辅助工具包命名为 `util`，使用 `imageutil` 或 `ioutil` 等名称更具体和清晰。

下面的命令分别生成 64 位和 32 位的可执行程序：
```bash
go build gopl.io/ch10/cross

GOARCH=386 go build gopl.io/ch10/cross
```

Go 风格强烈鼓励有良好的包的包 API 文档。每一个导出的包成员的声明以及包声明自身应该立刻使用注释来描述它的目的和用途。

好的文档不一定是洋洋洒洒的，而简明是文档一个不可替代的优点。事实上，Go 在文档保持简练和简单方面的管理和其他所有的东西一样，因为文档像代码一样也需要维护。许多文档声明可以在一个通顺的句子中解释清楚，并且如果这个行为非常明确，就不需要注释。